import telebot
from telebot.types import ReplyKeyboardMarkup, KeyboardButton
import requests

EMOJI_CODE = {200: 'โ',
              201: 'โ',
              202: 'โ',
              210: '๐ฉ',
              211: '๐ฉ',
              212: '๐ฉ',
              221: '๐ฉ',
              230: 'โ',
              231: 'โ',
              232: 'โ',
              301: '๐ง',
              302: '๐ง',
              310: '๐ง',
              311: '๐ง',
              312: '๐ง',
              313: '๐ง',
              314: '๐ง',
              321: '๐ง',
              500: '๐ง',
              501: '๐ง',
              502: '๐ง',
              503: '๐ง',
              504: '๐ง',
              511: '๐ง',
              520: '๐ง',
              521: '๐ง',
              522: '๐ง',
              531: '๐ง',
              600: '๐จ',
              601: '๐จ',
              602: '๐จ',
              611: '๐จ',
              612: '๐จ',
              613: '๐จ',
              615: '๐จ',
              616: '๐จ',
              620: '๐จ',
              621: '๐จ',
              622: '๐จ',
              701: '๐ซ',
              711: '๐ซ',
              721: '๐ซ',
              731: '๐ซ',
              741: '๐ซ',
              751: '๐ซ',
              761: '๐ซ',
              762: '๐ซ',
              771: '๐ซ',
              781: '๐ซ',
              800: 'โ',
              801: '๐ค',
              802: 'โ',
              803: 'โ',
              804: 'โ'}
TOKEN_BOT = 'ัะพะบะตะฝ ัะตะปะตะณะธ'
TOKEN_WEATHER = 'ัะพะบะตะฝ ะฟะพะณะพะดั'
URL_WEATHER = 'https://api.openweathermap.org/data/2.5/weather'

bot = telebot.TeleBot(TOKEN_BOT)


'''ะกัะดะฐ ะดะพะฑะฐะฒะปัะตะผ ะบะปะฐะฒะธะฐัััั (ReplyKeyboardMarkup, KeyboardButton)'''


def send_about(message):
    '''
    ะะฐ ะบะพะผะฐะฝะดั start ะพัะฟัะฐะฒะปัะตะผ ัะพะพะฑัะตะฝะธะต
    "ะัะฟัะฐะฒั ะผะฝะต ัะฒะพะต ะผะตััะพะฟะพะปะพะถะตะฝะธะต ะธ ั ะพัะฟัะฐะฒะปั ัะตะฑะต ะฟะพะณะพะดั."
    ะธ ะฟะพะดะบะปััะฐะตะผ ะบะปะฐะฒะธะฐัััั.
    '''


def send_welcome(message):
    '''
    ะัะธ ะฝะฐะถะฐัะธะธ ะฝะฐ ะบะฝะพะฟะบั "ะ ะฟัะพะตะบัะต" ะพัะฟัะฐะฒะปัะตะผ ัะพะพะฑัะตะฝะธะต
    "ะะพั ะฟะพะทะฒะพะปัะตั ะฟะพะปััะธัั ะฟะพะณะพะดั ะฒ ัะตะบััะตะผ ะผะตััะพะฟะพะปะพะถะตะฝะธะธ!
    ะะปั ะฟะพะปััะตะฝะธั ะฟะพะณะพะดั - ะพัะฟัะฐะฒั ะฑะพัั ะณะตะพะฟะพะทะธัะธั.
    ะะพะณะพะดะฐ ะฑะตัะตััั ั ัะฐะนัะฐ https://openweathermap.org."
    ะธ ะฟะพะดะบะปััะฐะตะผ ัะฝะพะฒะฐ ะบะปะฐะฒะธะฐัััั. ะะปั ะพะฑัะฐะฑะพััะธะบะฐ ัะพะพะฑัะตะฝะธะน
    ะฝัะถะฝะพ ะฟะตัะตะดะฐัั ะฟะฐัะฐะผะตัั "regexp='ะ ะฟัะพะตะบัะต'". ะะพัะบะพะปัะบั
    ะฝะฐะถะฐัะธะต ะฝะฐ ะบะฝะพะฟะบั "ะ ะฟัะพะตะบัะต" ััะพ ัะพะพะฑัะตะฝะธะต, ัะพ ะฝัะถะฝะพ
    ะฟัะธะผะตะฝััั ะพะฑัะฐะฑะพััะธะบ ัะพะพะฑัะตะฝะธะน ะดะปั ััะพะน ััะฝะบัะธะธ.
    '''


def get_weather(lat, lon):
    '''
    ะัะพััะพ ััะฝะบัะธั, ะบะพัะพัะฐั ะฒัะทัะฒะฐะตััั ะฒ ััะฝะบัะธะธ send_weather.
    ะะดะตัั ะฝะฐะดะพ ัะดะตะปะฐัั ะทะฐะฟัะพั ะฟะพะณะพะดั ะธะผะตั ะบะพะพัะดะธะฝะฐัั(ะบะพัะพััะต ะพะฟัะตะดะตะปััััั
    ะฒ send_weather), ััะพัะผะธัะพะฒะฐัั ัััะพะบั ะบะฐะบ ะฝะฐ ะบะฐััะธะฝะบะต ัะปะฐะนะดะฐ
    https://disk.yandex.ru/i/J8iMnJNFzzL7SQ ะดะพะฑะฐะฒะธะฒ ะธะบะพะฝะบะธ ๐ ๐ก ๐ง ะธ ัะผะพะดะทะธ,
    ะฐ ะฟะพัะพะผ ััะฝะบัะธั ะดะพะปะถะฝะฐ ะฒะตัะฝััั ััั ััะพัะผะธัะพะฒะฐะฝะฝัั ัััะพะบั.
    '''


@bot.message_handler(content_types=['location'])
def send_weather(message):
    '''
    ะะดะตัั ะธะท ะพะฑัะตะบัะฐ message ะฒััะฐัะบะธะฒะฐะตะผ ะบะพะพัะดะธะฝะฐัั ะผะตััะฝะพััะธ
    ะธ ะฒัะทัะฒะฐั get_weather ะฟะตัะตะดะฐะตะผ ะฒััะธัะปะตะฝะฝัะต ะบะพะพัะดะธะฝะฐัั. ะะพะปััะธะฒ ะพั
    ััะฝะบัะธะธ get_weather ัััะพะบั ะพัะฟัะฐะฒะปัะตะผ ะตั ะฟะพะปัะทะพะฒะฐัะตะปั ะธ ะฝะต ะทะฐะฑัะฒะฐะตะผ ะฟะพะดะบะปััะธัั ะบะปะฐะฒะธะฐัััั
    ะฟัะธ ะพัะฟัะฐะฒะบะต ัะพะพะฑัะตะฝะธั.
    ะกะฐะผะพะต ะณะปะฐะฒะฝะพะต, ััะพะฑั ะบะพะพัะดะธะฝะฐัั ะดะพะฑะฐะฒะธะปะธัั ะฒ ะพะฑัะตะบั message,
    ัะธะฟ ะบะพะฝัะตะฝัะฐ ะฝะฐะดะพ ัะบะฐะทะฐัั content_types=['location'].
    ะ ะตัะต ะพะดะฝะพ ะณะปะฐะฒะฝะพะต, ะฒะพะทะฒัะฐัะฐะตะผัั ะบ ัะพะทะดะฐะฝะธั ะบะปะฐะฒะธะฐัััั.
    ะัะธ ะดะพะฑะฐะฒะปะตะฝะธะธ ะบะปะฐะฒะธะฐัััั KeyboardButton('ะะพะปััะธัั ะฟะพะณะพะดั', request_location=True),
    ะฝัะถะฝะพ ะฒะบะปััะธัั ะฟะฐัะฐะผะตัั request_location, ะบะพัะพััะน ะพะทะฝะฐัะฐะตั,
    ััะพ ะฟัะธ ะฝะฐะถะฐัะธะธ ะฝะฐ ะบะฝะพะฟะบั "ะะพะปััะธัั ะฟะพะณะพะดั" ัะตะปะตะณัะฐะผ ะฟัะพัะธั
    ะพะฟัะตะดะตะปะธัั ัะตะบัััั ะณะตะพะปะพะบะฐัะธั. ะะพัะปะต ะพะฟัะตะดะตะปะตะฝะธั ะณะตะพะปะพะบะฐัะธะธ
    ะบะพะพัะดะธะฝะฐัั ะพัะฟัะฐะฒะปััััั ะฒ ะพะฑัะตะบั message ะธะท ะบะพัะพัะพะณะพ ะฒััะฐัะบะธะฒะฐะตะผ ะบะพะพัะดะธะฝะฐัั.
    '''


bot.infinity_polling()
